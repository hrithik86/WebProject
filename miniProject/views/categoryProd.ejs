<%include ./partials/header.ejs%>
<%var companies=[];%>
<style>
.hovereffect {
  width: 100%;
  height: 100%;
  float: left;
  overflow: hidden;
  position: relative;
  text-align: center;
  cursor: default;
  background: grey;
}

.hovereffect .overlay {
  width: 100%;
  height: 100%;
  position: absolute;
  overflow: hidden;
  top: 0;
  left: 0;
  padding: 50px 20px;
}

.hovereffect img {
  height:100%;
  width:100%;
    display: block;
  position: relative;
  max-width: none;
  width: calc(100% + 20px);
  -webkit-transition: opacity 0.35s, -webkit-transform 0.35s;
  transition: opacity 0.35s, transform 0.35s;
  -webkit-transform: translate3d(-10px,0,0);
  transform: translate3d(-10px,0,0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

.hovereffect:hover img {
  opacity: 0.4;
  filter: alpha(opacity=40);
  -webkit-transform: translate3d(0,0,0);
  transform: translate3d(0,0,0);
}

.hovereffect h2 {
    font-weight: bolder;
  text-transform: uppercase;
  color:white;
  text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;
  text-align: center;
  position: relative;
  font-size: 24px;
  overflow: hidden;
  padding: 0.5em 0;
  background-color: transparent;
}

.hovereffect h2:after {
  color: aliceblue;
position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: #fff;
  content: '';
  -webkit-transition: -webkit-transform 0.35s;
  transition: transform 0.35s;
  -webkit-transform: translate3d(-100%,0,0);
  transform: translate3d(-100%,0,0);
}

.hovereffect:hover h2:after {
  -webkit-transform: translate3d(0,0,0);
  transform: translate3d(0,0,0);
}

.hovereffect a, .hovereffect p {
  color: #FFF;
  opacity: 0;
  filter: alpha(opacity=0);
  -webkit-transition: opacity 0.35s, -webkit-transform 0.35s;
  transition: opacity 0.35s, transform 0.35s;
  -webkit-transform: translate3d(100%,0,0);
  transform: translate3d(100%,0,0);
}

.hovereffect:hover a, .hovereffect:hover p {
  opacity: 1;
  filter: alpha(opacity=100);
  -webkit-transform: translate3d(0,0,0);
  transform: translate3d(0,0,0);
}
.thumbnail a>img, .thumbnail>img{
    width:1000px;
    height: 200px;
}
.container .jumbotron{
    margin-top: 100px;
}
</style>
<div class="container">
    
    <header class="jumbotron">
        <div class="container">
            <h1><%=categoryType%> Section!!!</h1>
        </div>
    </header>
    <%for(var i=0;i<products.length;i++){ %>
        <%if(!companies.includes(products[i].company)){%>
            <%companies.push(products[i].company)%>
            <%console.log(companies);%>
            <button type="button" class="btn btn-info btn-lg"><%=products[i].company%></button>
            
            <div class="container">
                <br>
                <div class="row text-center" style="display:flex; flex-wrap: wrap;">
                    <%for(var j=0;j<products.length;j++){%>
                        <%if(products[j].company==products[i].company){%>
                            <div class="col-md-3 col-sm-6">
                                <div class="hovereffect">
                                    <img class="img-responsive" src="<%=products[j]["image"]%>">
                                    <div class="overlay">
                                        <h2><%=products[j]["name"]%></h2>
                                        <p>
                                            <a class="info" href="/categories/<%=products[j].category%>/<%=products[j].company%>/<%= products[j]._id%>" class="btn btn-primary">More info</a>
                                        </p>
                                        
                                    </div>
                                </div>
                            </div>
                        <%}%>
                    <%}%>
                </div>        
            <br>
            </div>
        <%}%>
    <%}%>
</div>
 
<%include ./partials/footer.ejs%>